(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120],{2964:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/room/[id]",function(){return r(7746)}])},7038:function(e,n,r){"use strict";r.d(n,{oy:function(){return o},s6:function(){return a},ut:function(){return t},xF:function(){return l}});let o=[{id:"entrepreneur",name:"Предприниматель",description:"Владелец успешного бизнеса. Высокий доход, но и высокие расходы на кредиты.",startingMoney:0,monthlyIncome:1e4,monthlyExpenses:6200,cashFlow:3800,specialAbilities:["Создание бизнеса","Управление рисками","Инновации"],color:"#FF6B6B",icon:"\uD83D\uDE80",loans:[{name:"Кредит на авто",monthlyPayment:700,principal:14e3},{name:"Образовательный кредит",monthlyPayment:500,principal:1e4},{name:"Ипотека",monthlyPayment:1200,principal:24e4},{name:"Кредитные карты",monthlyPayment:1e3,principal:2e4}],expenses:[{name:"Налоги",amount:1300,percentage:13},{name:"Прочие расходы",amount:1500,percentage:0}]},{id:"investor",name:"Инвестор",description:"Профессиональный инвестор. Фокусируется на долгосрочных инвестициях и портфеле.",startingMoney:5e3,monthlyIncome:3e3,monthlyExpenses:1800,cashFlow:1200,specialAbilities:["Анализ рынка","Диверсификация","Пассивный доход"],color:"#4ECDC4",icon:"\uD83D\uDCC8",loans:[{name:"Ипотека",monthlyPayment:800,principal:16e4},{name:"Кредитные карты",monthlyPayment:200,principal:4e3}],expenses:[{name:"Налоги",amount:600,percentage:20},{name:"Прочие расходы",amount:800,percentage:0}]},{id:"financier",name:"Финансист",description:"Специалист по финансовому планированию. Помогает другим управлять деньгами.",startingMoney:3e3,monthlyIncome:4e3,monthlyExpenses:2400,cashFlow:1600,specialAbilities:["Финансовое планирование","Консультации","Оптимизация налогов"],color:"#45B7D1",icon:"\uD83D\uDCBC",loans:[{name:"Ипотека",monthlyPayment:1e3,principal:2e5},{name:"Кредит на авто",monthlyPayment:400,principal:8e3}],expenses:[{name:"Налоги",amount:800,percentage:20},{name:"Прочие расходы",amount:600,percentage:0}]},{id:"consultant",name:"Консультант",description:"Эксперт в своей области. Зарабатывает на консультациях и экспертизе.",startingMoney:1500,monthlyIncome:6e3,monthlyExpenses:3600,cashFlow:2400,specialAbilities:["Экспертиза","Сетевые связи","Гибкий график"],color:"#96CEB4",icon:"\uD83C\uDFAF",loans:[{name:"Ипотека",monthlyPayment:1200,principal:24e4},{name:"Образовательный кредит",monthlyPayment:300,principal:6e3}],expenses:[{name:"Налоги",amount:1200,percentage:20},{name:"Прочие расходы",amount:900,percentage:0}]},{id:"manager",name:"Менеджер",description:"Руководитель команды. Управляет людьми и процессами в компании.",startingMoney:2500,monthlyIncome:4500,monthlyExpenses:2700,cashFlow:1800,specialAbilities:["Управление командой","Планирование","Мотивация"],color:"#FFEAA7",icon:"\uD83D\uDC65",loans:[{name:"Ипотека",monthlyPayment:900,principal:18e4},{name:"Кредит на авто",monthlyPayment:500,principal:1e4}],expenses:[{name:"Налоги",amount:900,percentage:20},{name:"Прочие расходы",amount:400,percentage:0}]},{id:"analyst",name:"Аналитик",description:"Специалист по анализу данных. Принимает решения на основе исследований.",startingMoney:2e3,monthlyIncome:3500,monthlyExpenses:2100,cashFlow:1400,specialAbilities:["Анализ данных","Прогнозирование","Исследования"],color:"#DDA0DD",icon:"\uD83D\uDCCA",loans:[{name:"Ипотека",monthlyPayment:700,principal:14e4},{name:"Образовательный кредит",monthlyPayment:200,principal:4e3}],expenses:[{name:"Налоги",amount:700,percentage:20},{name:"Прочие расходы",amount:200,percentage:0}]},{id:"trader",name:"Трейдер",description:"Торговец на финансовых рынках. Зарабатывает на краткосрочных операциях.",startingMoney:1e3,monthlyIncome:8e3,monthlyExpenses:4800,cashFlow:3200,specialAbilities:["Быстрые решения","Управление рисками","Технический анализ"],color:"#FF7675",icon:"⚡",loans:[{name:"Ипотека",monthlyPayment:1500,principal:3e5},{name:"Кредитные карты",monthlyPayment:800,principal:16e3}],expenses:[{name:"Налоги",amount:1600,percentage:20},{name:"Прочие расходы",amount:900,percentage:0}]},{id:"banker",name:"Банкир",description:"Работник банка. Стабильный доход и доступ к финансовым инструментам.",startingMoney:4e3,monthlyIncome:2500,monthlyExpenses:1500,cashFlow:1e3,specialAbilities:["Стабильность","Доступ к кредитам","Финансовые продукты"],color:"#74B9FF",icon:"\uD83C\uDFE6",loans:[{name:"Ипотека",monthlyPayment:600,principal:12e4}],expenses:[{name:"Налоги",amount:500,percentage:20},{name:"Прочие расходы",amount:400,percentage:0}]}],a=[{id:"financial_independence",name:"Финансовая независимость",icon:"\uD83D\uDCB0",description:"Достичь финансовой свободы и независимости"},{id:"own_business",name:"Собственный бизнес",icon:"\uD83C\uDFE2",description:"Создать и развить собственное дело"},{id:"investment_portfolio",name:"Инвестиционный портфель",icon:"\uD83D\uDCC8",description:"Построить диверсифицированный инвестиционный портфель"},{id:"passive_income",name:"Пассивный доход",icon:"\uD83D\uDC8E",description:"Создать источники пассивного дохода"},{id:"international_career",name:"Международная карьера",icon:"\uD83C\uDF0D",description:"Построить карьеру на международном уровне"},{id:"education_center",name:"Образовательный центр",icon:"\uD83C\uDF93",description:"Открыть образовательный центр или школу"},{id:"charity_fund",name:"Благотворительный фонд",icon:"❤️",description:"Создать благотворительный фонд для помощи людям"},{id:"tech_startup",name:"Технологический стартап",icon:"\uD83D\uDE80",description:"Разработать инновационный технологический продукт"}],t=[{value:30,label:"30 минут",minutes:30},{value:60,label:"1 час",minutes:60},{value:120,label:"2 часа",minutes:120},{value:180,label:"3 часа",minutes:180},{value:240,label:"4 часа",minutes:240}],l=[{value:60,label:"1 минута"},{value:120,label:"2 минуты"},{value:180,label:"3 минуты"},{value:240,label:"4 минуты"},{value:300,label:"5 минут"}]},7746:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return c}});var o=r(5893),a=r(1163),t=r(7294),l=r(2706),i=r(7038),s=r(6014),d=r(4319);function c(){var e,n;let r=(0,a.useRouter)(),{id:c}=r.query,{socket:p,isConnected:m}=(0,l.s)(),[u,y]=(0,t.useState)(null),[g,x]=(0,t.useState)(!0),[h,b]=(0,t.useState)(null),[f,D]=(0,t.useState)(null),[v,j]=(0,t.useState)("Предприниматель"),[S,C]=(0,t.useState)(null),[w,I]=(0,t.useState)(0),[F,P]=(0,t.useState)(!1),[E,k]=(0,t.useState)(null),[A,B]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(c&&!localStorage.getItem("user")){r.push("/simple-auth");return}},[c,r]),(0,t.useEffect)(()=>{if(!p||!m||!c)return;console.log("\uD83D\uDD0C Socket подключен, присоединяемся к комнате:",c);let e=localStorage.getItem("user"),n=e?JSON.parse(e):{name:"Игрок",email:"player@example.com"},r=localStorage.getItem("game_state_".concat(c));if(r)try{let e=JSON.parse(r);if(console.log("\uD83C\uDFAE Восстанавливаем состояние игры:",e),Date.now()-(e.timestamp||0)<3e5){var o;e.room&&y(e.room),e.showGameBoard&&P(!0),e.currentPlayer?C(e.currentPlayer):(null===(o=e.room)||void 0===o?void 0:o.players)&&void 0!==e.currentIndex&&C(e.room.players[e.currentIndex]),void 0!==e.currentIndex&&I(e.currentIndex),e.myPlayer&&k(e.myPlayer),void 0!==e.isHost&&B(e.isHost),x(!1),console.log("✅ Состояние игры восстановлено из localStorage")}else console.log("⏰ Сохраненное состояние устарело, запрашиваем с сервера"),localStorage.removeItem("game_state_".concat(c))}catch(e){console.error("❌ Ошибка восстановления состояния игры:",e),localStorage.removeItem("game_state_".concat(c))}p.emit("join-room",{roomId:c,playerName:n.name||"Игрок",playerEmail:n.email||"player@example.com"});let a=e=>{console.log("\uD83D\uDCCB Получена информация о комнате:",e),y(e);let n=localStorage.getItem("user"),r=n?JSON.parse(n):{name:"Игрок",email:"player@example.com"},o=e.players.find(e=>e.email===r.email||e.name===r.name);k(o),B(o&&e.players.length>0&&e.players[0].id===o.id),"playing"===e.status&&(console.log("\uD83C\uDFAE Игра уже идет, показываем игровое поле"),P(!0),!S&&e.players.length>0&&C(e.players[w]||e.players[0]),p.emit("get-game-state",{roomId:c})),x(!1)},t=e=>{console.log("\uD83D\uDCCB Комната обновлена:",e),y(e);let n=localStorage.getItem("user"),r=n?JSON.parse(n):{name:"Игрок",email:"player@example.com"},o=e.players.find(e=>e.email===r.email||e.name===r.name);k(o),B(o&&e.players.length>0&&e.players[0].id===o.id),!S&&e.players.length>0&&"playing"===e.status&&C(e.players[w]||e.players[0])},l=e=>{console.error("❌ Socket error:",e),b("string"==typeof e?e:e.message||"Неизвестная ошибка"),x(!1)},i=e=>{console.error("❌ Join room error:",e),b("Ошибка присоединения к комнате: ".concat(e.error||"Неизвестная ошибка")),x(!1)},s=e=>{console.log("\uD83D\uDC64 Игрок присоединился:",e),e.players&&y(n=>n?{...n,players:e.players,currentPlayers:e.players.length}:null)},d=e=>{console.log("\uD83D\uDC4B Игрок покинул комнату:",e),e.players&&y(n=>n?{...n,players:e.players,currentPlayers:e.players.length}:null)},g=e=>{console.log("✅ Готовность игрока обновлена:",e),e.players&&y(n=>n?{...n,players:e.players}:null)},h=e=>{console.log("\uD83C\uDFAE Игра началась:",e),y(n=>n?{...n,started:!0,status:"playing",players:e.players,order:e.order,currentPlayer:e.currentPlayer,turnEndAt:e.turnEndAt,gameEndAt:e.gameEndAt}:null),C(e.currentPlayer),I(e.currentIndex||0),P(!0)},f=e=>{console.log("\uD83C\uDFB2 Кубик брошен:",e),y(n=>n?{...n,players:n.players.map(n=>n.name===e.player?{...n,position:e.newPosition}:n)}:null)},D=e=>{console.log("\uD83D\uDD04 Ход изменился:",e),y(n=>n?{...n,currentPlayer:e.currentPlayer,currentIndex:e.currentIndex,turnEndAt:e.turnEndAt}:null),C(e.currentPlayer),I(e.currentIndex)},v=e=>{console.log("\uD83D\uDCB3 Карта куплена:",e),y(n=>n?{...n,players:n.players.map(n=>n.name===e.player?{...n,money:e.newMoney}:n)}:null)},j=e=>{var n;console.log("\uD83C\uDFAE Получено состояние игры с сервера:",e),e.room&&y(e.room),void 0!==e.showGameBoard&&P(e.showGameBoard),e.currentPlayer?C(e.currentPlayer):(null===(n=e.room)||void 0===n?void 0:n.players)&&void 0!==e.currentIndex&&C(e.room.players[e.currentIndex]),void 0!==e.currentIndex&&I(e.currentIndex),e.myPlayer&&k(e.myPlayer),void 0!==e.isHost&&B(e.isHost);let r={room:e.room||u,showGameBoard:void 0!==e.showGameBoard?e.showGameBoard:F,currentPlayer:e.currentPlayer||S,currentIndex:void 0!==e.currentIndex?e.currentIndex:w,myPlayer:e.myPlayer||E,isHost:void 0!==e.isHost?e.isHost:A,timestamp:Date.now()};try{localStorage.setItem("game_state_".concat(c),JSON.stringify(r)),console.log("\uD83D\uDCBE Состояние игры обновлено с сервера")}catch(e){console.error("❌ Ошибка сохранения обновленного состояния:",e)}x(!1)};return p.on("room-joined",a),p.on("room-updated",t),p.on("player-joined",s),p.on("player-left",d),p.on("player-ready-updated",g),p.on("game-started",h),p.on("dice-rolled",f),p.on("turn-changed",D),p.on("card-bought",v),p.on("game-state-received",j),p.on("join-room-error",i),p.on("error",l),()=>{p.off("room-joined",a),p.off("room-updated",t),p.off("player-joined",s),p.off("player-left",d),p.off("player-ready-updated",g),p.off("game-started",h),p.off("dice-rolled",f),p.off("turn-changed",D),p.off("card-bought",v),p.off("game-state-received",j),p.off("join-room-error",i),p.off("error",l)}},[p,m,c]),(0,t.useEffect)(()=>{if(!c||!u)return;let e={room:u,showGameBoard:F,currentPlayer:S,currentIndex:w,myPlayer:E,isHost:A,timestamp:Date.now()};try{localStorage.setItem("game_state_".concat(c),JSON.stringify(e)),console.log("\uD83D\uDCBE Состояние игры сохранено:",e)}catch(e){console.error("❌ Ошибка сохранения состояния игры:",e)}},[c,u,F,S,w,E,A]),(0,t.useEffect)(()=>{u&&"playing"===u.status&&!S&&u.players.length>0&&(console.log("\uD83D\uDD04 Восстанавливаем currentPlayer после обновления страницы"),C(u.players[w]||u.players[0]))},[u,S,w]);let R=()=>{p&&u&&c&&f&&p.emit("player-ready",{roomId:c,dream:f,profession:"Предприниматель"})};return g?(0,o.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif"},children:(0,o.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(15px)",borderRadius:"20px",padding:"40px",textAlign:"center",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},children:[(0,o.jsx)("div",{style:{color:"white",fontSize:"1.5rem",marginBottom:"20px"},children:m?"\uD83D\uDD04 Загрузка комнаты...":"\uD83D\uDD0C Подключение к серверу..."}),(0,o.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"1rem"},children:m?"Получаем информацию о комнате":"Ожидаем подключения"})]})}):h?(0,o.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif"},children:(0,o.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(15px)",borderRadius:"20px",padding:"40px",textAlign:"center",border:"2px solid rgba(255, 0, 0, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},children:[(0,o.jsx)("div",{style:{color:"#ff6b6b",fontSize:"1.5rem",marginBottom:"20px"},children:"❌ Ошибка"}),(0,o.jsx)("div",{style:{color:"white",fontSize:"1rem",marginBottom:"30px"},children:h}),(0,o.jsx)("button",{onClick:()=>r.push("/simple-rooms"),style:{background:"linear-gradient(45deg, #667eea, #764ba2)",color:"white",border:"none",borderRadius:"10px",padding:"15px 30px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"Вернуться в лобби"})]})}):u?(0,o.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",padding:"20px",fontFamily:"Arial, sans-serif"},children:(0,o.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(15px)",borderRadius:"15px",padding:"20px",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{style:{color:"white",margin:0,fontSize:"2rem",fontWeight:"bold"},children:u.name}),(0,o.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"1rem",marginTop:"5px"},children:["Игроков: ",u.currentPlayers,"/",u.maxPlayers," • Время хода: ",u.turnTime/60," мин • Статус: ",u.status]}),(0,o.jsx)("div",{style:{color:m?"#4CAF50":"#f44336",fontSize:"0.9rem",marginTop:"5px"},children:m?"\uD83D\uDFE2 Подключено":"\uD83D\uDD34 Отключено"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:()=>{r.push("/room/setup?id=".concat(c))},style:{background:"linear-gradient(45deg, #ff6b6b, #ee5a24)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",marginRight:"10px",cursor:"pointer",fontWeight:"bold",fontSize:"16px",boxShadow:"0 4px 15px rgba(255, 107, 107, 0.4)",transition:"all 0.3s ease"},children:"Настроить персонажа"}),(0,o.jsx)("button",{onClick:()=>{p&&c&&p.emit("leave-room",{roomId:c}),c&&(localStorage.removeItem("game_state_".concat(c)),console.log("\uD83D\uDDD1️ Состояние игры очищено для комнаты:",c)),r.push("/simple-rooms")},style:{background:"rgba(255, 255, 255, 0.2)",color:"white",border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease"},children:"Покинуть комнату"})]})]}),(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"15px",padding:"30px",marginBottom:"30px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[(0,o.jsxs)("h2",{style:{color:"white",marginTop:0,marginBottom:"20px"},children:["Игроки в комнате (",u.players.length,")"]}),0===u.players.length?(0,o.jsx)("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.7)",padding:"40px"},children:"Нет игроков в комнате"}):(0,o.jsx)("div",{style:{display:"grid",gap:"15px"},children:u.players.map((e,n)=>(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"10px",padding:"20px",border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{style:{color:"white",margin:"0 0 10px 0"},children:e.name}),(0,o.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},children:["Email: ",e.email]}),!e.isReady&&E&&E.id===e.id&&(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginTop:"8px",flexWrap:"wrap"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"12px"},children:"\uD83D\uDCBC Профессия:"}),(0,o.jsx)("span",{style:{color:"white",fontSize:"12px",fontWeight:"bold",padding:"4px 8px",background:"rgba(76, 175, 80, 0.2)",borderRadius:"4px",border:"1px solid rgba(76, 175, 80, 0.5)"},children:"Предприниматель"})]}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"12px"},children:"\uD83C\uDFAF Мечта:"}),e.dream?(0,o.jsx)("span",{style:{color:"white",fontSize:"12px",fontWeight:"bold",padding:"4px 8px",background:"rgba(76, 175, 80, 0.2)",borderRadius:"4px",border:"1px solid rgba(76, 175, 80, 0.5)"},children:e.dream}):(0,o.jsxs)("select",{value:f||"",onChange:e=>D(e.target.value),style:{padding:"4px 8px",borderRadius:"4px",background:"rgba(255, 255, 255, 0.1)",color:"white",border:"1px solid rgba(255, 255, 255, 0.3)",fontSize:"12px",minWidth:"150px"},children:[(0,o.jsx)("option",{value:"",children:"Выберите мечту"}),i.s6.map(e=>(0,o.jsxs)("option",{value:e.id,style:{background:"#1a1a2e",color:"white"},children:[e.icon," ",e.name]},e.id))]})]})]})]}),(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"10px"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,o.jsx)("div",{style:{color:e.isReady?"#4CAF50":"#ff9800",fontSize:"14px",fontWeight:"bold"},children:e.isReady?"✅ Готов":"⏳ Ожидает"}),E&&E.id===e.id&&(0,o.jsx)("button",{onClick:R,disabled:e.isReady||!m||!f,style:{padding:"8px 16px",border:"none",borderRadius:"6px",background:!e.isReady&&m&&f?"linear-gradient(45deg, #667eea, #764ba2)":"rgba(255, 255, 255, 0.1)",color:"white",cursor:!e.isReady&&m&&f?"pointer":"not-allowed",opacity:!e.isReady&&m&&f?1:.5,fontSize:"14px"},children:e.isReady?"Готов":"Готовность"})]})})]},e.id))})]}),(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"15px",padding:"30px",border:"1px solid rgba(255, 255, 255, 0.2)",textAlign:"center"},children:[(0,o.jsx)("h2",{style:{color:"white",marginTop:0,marginBottom:"20px"},children:"Статус игры"}),"waiting"===u.status&&(0,o.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"1.1rem",marginBottom:"20px"},children:u.currentPlayers<2?"Ожидаем еще ".concat(2-u.currentPlayers," игроков для старта"):u.players.filter(e=>e.isReady).length<2?"Готово: ".concat(u.players.filter(e=>e.isReady).length,"/").concat(u.currentPlayers," игроков (минимум 2)"):0===u.players.filter(e=>!e.isReady).length?"Все игроки готовы! Можно начинать игру":"Готово: ".concat(u.players.filter(e=>e.isReady).length,"/").concat(u.currentPlayers," игроков (можно начать)")}),"waiting"===u.status&&u.currentPlayers>=2&&u.players.filter(e=>e.isReady).length>=2&&A&&(0,o.jsx)("div",{style:{marginBottom:"20px"},children:(0,o.jsxs)("button",{onClick:()=>{p&&u&&c&&p.emit("start-game",{roomId:c})},style:{padding:"15px 30px",background:"linear-gradient(45deg, #4CAF50, #45a049)",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 15px rgba(76, 175, 80, 0.4)",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 6px 20px rgba(76, 175, 80, 0.6)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 15px rgba(76, 175, 80, 0.4)"},children:["\uD83D\uDE80 Старт (",u.players.filter(e=>e.isReady).length,"/",u.currentPlayers," готовы)"]})}),f&&(0,o.jsxs)("div",{style:{color:"#4CAF50",fontSize:"14px",marginBottom:"15px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:["\uD83C\uDFAF Выбранная мечта: ",f?(null===(e=i.s6.find(e=>e.id===f))||void 0===e?void 0:e.name)||f:""]}),"playing"===u.status&&F&&(0,o.jsx)(s.Z,{players:u.players,currentPlayer:u.players[w]||S,currentIndex:w,onRollDice:()=>{p&&u&&c&&p.emit("roll-dice",{roomId:c})},onBuyCard:(e,n)=>{p&&u&&c&&p.emit("buy-card",{roomId:c,cardId:e,price:n})},onGetGameState:()=>{p&&u&&c&&p.emit("get-game-state",{roomId:c})},isMyTurn:(null===(n=u.players[w])||void 0===n?void 0:n.socketId)===(null==p?void 0:p.id)||(null==S?void 0:S.socketId)===(null==p?void 0:p.id)}),"playing"===u.status&&!F&&(0,o.jsx)("div",{style:{color:"#4CAF50",fontSize:"1.1rem",marginBottom:"20px",textAlign:"center"},children:"\uD83C\uDFAE Игра идет! Загружаем игровую доску..."}),"finished"===u.status&&(0,o.jsx)("div",{style:{color:"#ff9800",fontSize:"1.1rem",marginBottom:"20px"},children:"\uD83C\uDFC1 Игра завершена"}),!m&&(0,o.jsx)("div",{style:{color:"#f44336",fontSize:"1rem",marginBottom:"20px"},children:"⚠️ Нет подключения к серверу"})]}),(0,o.jsx)(d.Z,{currentRoomId:c})]})}):(0,o.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif"},children:(0,o.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(15px)",borderRadius:"20px",padding:"40px",textAlign:"center",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},children:[(0,o.jsx)("div",{style:{color:"white",fontSize:"1.5rem",marginBottom:"20px"},children:"\uD83C\uDFE0 Комната не найдена"}),(0,o.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"1rem",marginBottom:"30px"},children:['Комната с ID "',c,'" не существует или была удалена']}),(0,o.jsx)("button",{onClick:()=>r.push("/simple-rooms"),style:{background:"linear-gradient(45deg, #667eea, #764ba2)",color:"white",border:"none",borderRadius:"10px",padding:"15px 30px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"Вернуться в лобби"})]})})}}},function(e){e.O(0,[645,400,14,888,774,179],function(){return e(e.s=2964)}),_N_E=e.O()}]);