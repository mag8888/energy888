(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[496],{7333:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/simple-rooms",function(){return s(81)}])},7038:function(e,a,s){"use strict";s.d(a,{oy:function(){return n},s6:function(){return o},ut:function(){return t},xF:function(){return i}});let n=[{id:"entrepreneur",name:"Предприниматель",description:"Владелец успешного бизнеса. Высокий доход, но и высокие расходы на кредиты.",startingMoney:0,monthlyIncome:1e4,monthlyExpenses:6200,cashFlow:3800,specialAbilities:["Создание бизнеса","Управление рисками","Инновации"],color:"#FF6B6B",icon:"\uD83D\uDE80",loans:[{name:"Кредит на авто",monthlyPayment:700,principal:14e3},{name:"Образовательный кредит",monthlyPayment:500,principal:1e4},{name:"Ипотека",monthlyPayment:1200,principal:24e4},{name:"Кредитные карты",monthlyPayment:1e3,principal:2e4}],expenses:[{name:"Налоги",amount:1300,percentage:13},{name:"Прочие расходы",amount:1500,percentage:0}]},{id:"investor",name:"Инвестор",description:"Профессиональный инвестор. Фокусируется на долгосрочных инвестициях и портфеле.",startingMoney:5e3,monthlyIncome:3e3,monthlyExpenses:1800,cashFlow:1200,specialAbilities:["Анализ рынка","Диверсификация","Пассивный доход"],color:"#4ECDC4",icon:"\uD83D\uDCC8",loans:[{name:"Ипотека",monthlyPayment:800,principal:16e4},{name:"Кредитные карты",monthlyPayment:200,principal:4e3}],expenses:[{name:"Налоги",amount:600,percentage:20},{name:"Прочие расходы",amount:800,percentage:0}]},{id:"financier",name:"Финансист",description:"Специалист по финансовому планированию. Помогает другим управлять деньгами.",startingMoney:3e3,monthlyIncome:4e3,monthlyExpenses:2400,cashFlow:1600,specialAbilities:["Финансовое планирование","Консультации","Оптимизация налогов"],color:"#45B7D1",icon:"\uD83D\uDCBC",loans:[{name:"Ипотека",monthlyPayment:1e3,principal:2e5},{name:"Кредит на авто",monthlyPayment:400,principal:8e3}],expenses:[{name:"Налоги",amount:800,percentage:20},{name:"Прочие расходы",amount:600,percentage:0}]},{id:"consultant",name:"Консультант",description:"Эксперт в своей области. Зарабатывает на консультациях и экспертизе.",startingMoney:1500,monthlyIncome:6e3,monthlyExpenses:3600,cashFlow:2400,specialAbilities:["Экспертиза","Сетевые связи","Гибкий график"],color:"#96CEB4",icon:"\uD83C\uDFAF",loans:[{name:"Ипотека",monthlyPayment:1200,principal:24e4},{name:"Образовательный кредит",monthlyPayment:300,principal:6e3}],expenses:[{name:"Налоги",amount:1200,percentage:20},{name:"Прочие расходы",amount:900,percentage:0}]},{id:"manager",name:"Менеджер",description:"Руководитель команды. Управляет людьми и процессами в компании.",startingMoney:2500,monthlyIncome:4500,monthlyExpenses:2700,cashFlow:1800,specialAbilities:["Управление командой","Планирование","Мотивация"],color:"#FFEAA7",icon:"\uD83D\uDC65",loans:[{name:"Ипотека",monthlyPayment:900,principal:18e4},{name:"Кредит на авто",monthlyPayment:500,principal:1e4}],expenses:[{name:"Налоги",amount:900,percentage:20},{name:"Прочие расходы",amount:400,percentage:0}]},{id:"analyst",name:"Аналитик",description:"Специалист по анализу данных. Принимает решения на основе исследований.",startingMoney:2e3,monthlyIncome:3500,monthlyExpenses:2100,cashFlow:1400,specialAbilities:["Анализ данных","Прогнозирование","Исследования"],color:"#DDA0DD",icon:"\uD83D\uDCCA",loans:[{name:"Ипотека",monthlyPayment:700,principal:14e4},{name:"Образовательный кредит",monthlyPayment:200,principal:4e3}],expenses:[{name:"Налоги",amount:700,percentage:20},{name:"Прочие расходы",amount:200,percentage:0}]},{id:"trader",name:"Трейдер",description:"Торговец на финансовых рынках. Зарабатывает на краткосрочных операциях.",startingMoney:1e3,monthlyIncome:8e3,monthlyExpenses:4800,cashFlow:3200,specialAbilities:["Быстрые решения","Управление рисками","Технический анализ"],color:"#FF7675",icon:"⚡",loans:[{name:"Ипотека",monthlyPayment:1500,principal:3e5},{name:"Кредитные карты",monthlyPayment:800,principal:16e3}],expenses:[{name:"Налоги",amount:1600,percentage:20},{name:"Прочие расходы",amount:900,percentage:0}]},{id:"banker",name:"Банкир",description:"Работник банка. Стабильный доход и доступ к финансовым инструментам.",startingMoney:4e3,monthlyIncome:2500,monthlyExpenses:1500,cashFlow:1e3,specialAbilities:["Стабильность","Доступ к кредитам","Финансовые продукты"],color:"#74B9FF",icon:"\uD83C\uDFE6",loans:[{name:"Ипотека",monthlyPayment:600,principal:12e4}],expenses:[{name:"Налоги",amount:500,percentage:20},{name:"Прочие расходы",amount:400,percentage:0}]}],o=[{id:"financial_independence",name:"Финансовая независимость",icon:"\uD83D\uDCB0",description:"Достичь финансовой свободы и независимости"},{id:"own_business",name:"Собственный бизнес",icon:"\uD83C\uDFE2",description:"Создать и развить собственное дело"},{id:"investment_portfolio",name:"Инвестиционный портфель",icon:"\uD83D\uDCC8",description:"Построить диверсифицированный инвестиционный портфель"},{id:"passive_income",name:"Пассивный доход",icon:"\uD83D\uDC8E",description:"Создать источники пассивного дохода"},{id:"international_career",name:"Международная карьера",icon:"\uD83C\uDF0D",description:"Построить карьеру на международном уровне"},{id:"education_center",name:"Образовательный центр",icon:"\uD83C\uDF93",description:"Открыть образовательный центр или школу"},{id:"charity_fund",name:"Благотворительный фонд",icon:"❤️",description:"Создать благотворительный фонд для помощи людям"},{id:"tech_startup",name:"Технологический стартап",icon:"\uD83D\uDE80",description:"Разработать инновационный технологический продукт"}],t=[{value:30,label:"30 минут",minutes:30},{value:60,label:"1 час",minutes:60},{value:120,label:"2 часа",minutes:120},{value:180,label:"3 часа",minutes:180},{value:240,label:"4 часа",minutes:240}],i=[{value:60,label:"1 минута"},{value:120,label:"2 минуты"},{value:180,label:"3 минуты"},{value:240,label:"4 минуты"},{value:300,label:"5 минут"}]},81:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return m}});var n=s(5893),o=s(645),t=s.n(o),i=s(7294),r=s(1163),l=s(1664),d=s.n(l),c=s(2706),b=s(7038),p=s(4319);function m(){let{socket:e,isConnected:a}=(0,c.s)(),[s,o]=(0,i.useState)([]),[l,m]=(0,i.useState)(!1),[x,g]=(0,i.useState)({name:"",maxPlayers:4,timing:120,gameDuration:180,professionSelectionMode:"choice",assignProfessionToAll:!1,availableProfessions:["entrepreneur"]}),[u,h]=(0,i.useState)(!1),[y,f]=(0,i.useState)(""),[j,v]=(0,i.useState)(null),[D,N]=(0,i.useState)(new Set),w=(0,r.useRouter)();(0,i.useEffect)(()=>{let e=localStorage.getItem("user");if(!e){w.push("/simple-auth");return}try{let a=JSON.parse(e);v(a);let s=localStorage.getItem("player_rooms_".concat(a.email||a.name));if(s)try{let e=JSON.parse(s);N(new Set(e)),console.log("\uD83C\uDFE0 Загружены комнаты игрока:",e)}catch(e){console.error("❌ Ошибка загрузки комнат игрока:",e)}}catch(e){console.error("❌ Ошибка парсинга данных пользователя:",e)}},[w]),(0,i.useEffect)(()=>{if(!e||!a)return;console.log("\uD83D\uDD0C Socket подключен, настраиваем обработчики"),e.emit("get-rooms");let s=e=>{console.log("\uD83D\uDCCB Получен список комнат:",e),o(e)},n=e=>{console.log("\uD83C\uDFE0 Комната создана и присоединение:",e);let a={id:e.id,name:e.name,players:e.currentPlayers||e.players||0,maxPlayers:e.maxPlayers,status:e.status||"waiting",timing:e.turnTime||e.timing||120,gameDuration:Math.floor((e.gameDurationSec||3600)/60),createdAt:Date.now(),professionSelectionMode:"choice",availableProfessions:[],currentPlayers:e.currentPlayers||e.players||0,turnTime:e.turnTime||e.timing||120};o(e=>[...e,a]),f("Комната создана успешно!"),m(!1);let s=JSON.parse(localStorage.getItem("user")||"{}"),n=s.email||s.name;if(n){let e=Array.from(D);e.includes(a.id)||(e.push(a.id),N(new Set(e)),localStorage.setItem("player_rooms_".concat(n),JSON.stringify(e)),console.log("\uD83D\uDCBE Созданная комната сохранена для игрока:",a.id))}setTimeout(()=>{w.push("/room/".concat(a.id))},500)},t=()=>{console.log("\uD83D\uDD04 Список комнат обновлен"),e.emit("get-rooms")},i=e=>{console.error("❌ Socket connection error:",e),f("Ошибка подключения к серверу")};return e.on("rooms-list",s),e.on("room-joined",n),e.on("rooms-updated",t),e.on("connect_error",i),()=>{e.off("rooms-list",s),e.off("room-joined",n),e.off("rooms-updated",t),e.off("connect_error",i)}},[e,a,w]),(0,i.useEffect)(()=>{if(!e||!a)return;let s=setInterval(()=>{console.log("\uD83D\uDD04 Принудительное обновление списка комнат"),e.emit("get-rooms")},5e3);return()=>clearInterval(s)},[e,a]);let S=s=>{if(!e||!a){f("Нет подключения к серверу");return}let n=JSON.parse(localStorage.getItem("user")||"{}");console.log("\uD83D\uDEAA Присоединяемся к комнате:",s);let o=n.email||n.name;if(o){let e=Array.from(D);e.includes(s)||(e.push(s),N(new Set(e)),localStorage.setItem("player_rooms_".concat(o),JSON.stringify(e)),console.log("\uD83D\uDCBE Комната сохранена для игрока:",s))}e.emit("join-room",{roomId:s,playerName:n.name||"Игрок",playerEmail:n.email||"player@example.com"}),w.push("/room/".concat(s))},k=e=>{g(a=>({...a,availableProfessions:a.availableProfessions.includes(e)?a.availableProfessions.filter(a=>a!==e):[...a.availableProfessions,e]}))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t(),{id:"7b17953b10db55d1",children:".profession-card.jsx-7b17953b10db55d1:hover .profession-hover-effect.jsx-7b17953b10db55d1{opacity:1!important}.profession-card.jsx-7b17953b10db55d1:hover{-webkit-transform:translatey(-4px)!important;-moz-transform:translatey(-4px)!important;-ms-transform:translatey(-4px)!important;-o-transform:translatey(-4px)!important;transform:translatey(-4px)!important;-webkit-box-shadow:0 8px 25px rgba(255,255,255,.15)!important;-moz-box-shadow:0 8px 25px rgba(255,255,255,.15)!important;box-shadow:0 8px 25px rgba(255,255,255,.15)!important}"}),(0,n.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",padding:"20px",fontFamily:"Arial, sans-serif"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(15px)",borderRadius:"15px",padding:"20px",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("div",{className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("h1",{style:{color:"white",margin:0,fontSize:"2rem",fontWeight:"bold"},className:"jsx-7b17953b10db55d1",children:"Energy of Money"}),(0,n.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"1rem",marginTop:"5px"},className:"jsx-7b17953b10db55d1",children:["Добро пожаловать, ",(null==j?void 0:j.name)||"Игрок","!"]}),(0,n.jsx)("div",{style:{color:a?"#4CAF50":"#f44336",fontSize:"0.9rem",marginTop:"5px"},className:"jsx-7b17953b10db55d1",children:a?"\uD83D\uDFE2 Подключено":"\uD83D\uDD34 Отключено"})]}),(0,n.jsxs)("div",{className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("button",{onClick:()=>m(!0),disabled:!a,style:{background:a?"linear-gradient(45deg, #ff6b6b, #ee5a24)":"rgba(255, 255, 255, 0.1)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",marginRight:"10px",cursor:a?"pointer":"not-allowed",fontWeight:"bold",fontSize:"16px",boxShadow:a?"0 4px 15px rgba(255, 107, 107, 0.4)":"none",transition:"all 0.3s ease",opacity:a?1:.5},className:"jsx-7b17953b10db55d1",children:"Создать комнату"}),(0,n.jsx)("button",{onClick:()=>{e&&(console.log("\uD83D\uDD04 Ручное обновление списка комнат"),e.emit("get-rooms"))},style:{background:"rgba(255, 255, 255, 0.2)",color:"white",border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease",marginRight:"10px"},className:"jsx-7b17953b10db55d1",children:"\uD83D\uDD04 Обновить"}),(0,n.jsx)(d(),{href:"/hall-of-fame",style:{background:"rgba(255, 255, 255, 0.2)",color:"white",border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease",textDecoration:"none",display:"inline-block",marginRight:"10px"},children:"\uD83C\uDFC6 Зал Славы"}),(0,n.jsx)(d(),{href:"/game-board",style:{background:"linear-gradient(45deg, #9C27B0, #7B1FA2)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease",textDecoration:"none",display:"inline-block",marginRight:"10px",boxShadow:"0 4px 15px rgba(156, 39, 176, 0.4)"},children:"\uD83C\uDFAE Игровая доска"}),(0,n.jsx)(d(),{href:"/original-board",style:{background:"linear-gradient(45deg, #FF6B6B, #EE5A24)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease",textDecoration:"none",display:"inline-block",marginRight:"10px",boxShadow:"0 4px 15px rgba(255, 107, 107, 0.4)"},children:"\uD83C\uDFAF Полная доска (24+52)"}),(0,n.jsx)("button",{onClick:()=>{localStorage.removeItem("user"),w.push("/simple-auth")},style:{background:"rgba(255, 255, 255, 0.2)",color:"white",border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease"},className:"jsx-7b17953b10db55d1",children:"Выйти"})]})]}),y&&(0,n.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.1)",color:"white",padding:"15px",borderRadius:"10px",marginBottom:"20px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)"},className:"jsx-7b17953b10db55d1",children:y}),l&&(0,n.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"15px",padding:"30px",marginBottom:"30px",border:"1px solid rgba(255, 255, 255, 0.2)"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("h2",{style:{color:"white",marginTop:0,marginBottom:"20px"},className:"jsx-7b17953b10db55d1",children:"Создать комнату"}),(0,n.jsxs)("form",{onSubmit:n=>{if(n.preventDefault(),!e||!a){f("Нет подключения к серверу");return}h(!0),f("");let o=JSON.parse(localStorage.getItem("user")||"{}"),t={name:x.name||"Комната ".concat(s.length+1),maxPlayers:x.maxPlayers,timing:x.timing,gameDurationSec:60*x.gameDuration,playerName:o.name||"Игрок",playerEmail:o.email||"player@example.com",professionSelectionMode:x.professionSelectionMode,assignProfessionToAll:x.assignProfessionToAll,availableProfessions:x.availableProfessions};console.log("\uD83C\uDFE0 Создаем комнату:",t),e.emit("create-room",t),h(!1)},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("div",{style:{marginBottom:"20px"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("label",{style:{color:"white",display:"block",marginBottom:"5px",fontWeight:"bold"},className:"jsx-7b17953b10db55d1",children:"Название комнаты"}),(0,n.jsx)("input",{type:"text",placeholder:"Введите название комнаты",value:x.name,onChange:e=>g({...x,name:e.target.value}),style:{width:"100%",padding:"15px",border:"none",borderRadius:"10px",background:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"16px",boxSizing:"border-box"},className:"jsx-7b17953b10db55d1"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginBottom:"20px"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("div",{className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("label",{style:{color:"white",display:"block",marginBottom:"5px",fontWeight:"bold"},className:"jsx-7b17953b10db55d1",children:"Максимум игроков"}),(0,n.jsxs)("select",{value:x.maxPlayers,onChange:e=>g({...x,maxPlayers:parseInt(e.target.value)}),style:{width:"100%",padding:"15px",border:"none",borderRadius:"10px",background:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"16px"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("option",{value:2,className:"jsx-7b17953b10db55d1",children:"2 игрока"}),(0,n.jsx)("option",{value:3,className:"jsx-7b17953b10db55d1",children:"3 игрока"}),(0,n.jsx)("option",{value:4,className:"jsx-7b17953b10db55d1",children:"4 игрока"}),(0,n.jsx)("option",{value:6,className:"jsx-7b17953b10db55d1",children:"6 игроков"}),(0,n.jsx)("option",{value:8,className:"jsx-7b17953b10db55d1",children:"8 игроков"}),(0,n.jsx)("option",{value:10,className:"jsx-7b17953b10db55d1",children:"10 игроков"})]})]}),(0,n.jsxs)("div",{className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("label",{style:{color:"white",display:"block",marginBottom:"5px",fontWeight:"bold"},className:"jsx-7b17953b10db55d1",children:"Время хода"}),(0,n.jsx)("select",{value:x.timing,onChange:e=>g({...x,timing:parseInt(e.target.value)}),style:{width:"100%",padding:"15px",border:"none",borderRadius:"10px",background:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"16px"},className:"jsx-7b17953b10db55d1",children:b.xF.map(e=>(0,n.jsx)("option",{value:e.value,className:"jsx-7b17953b10db55d1",children:e.label},e.value))})]}),(0,n.jsxs)("div",{className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("label",{style:{color:"white",display:"block",marginBottom:"5px",fontWeight:"bold"},className:"jsx-7b17953b10db55d1",children:"Длительность игры"}),(0,n.jsx)("select",{value:x.gameDuration,onChange:e=>g({...x,gameDuration:parseInt(e.target.value)}),style:{width:"100%",padding:"15px",border:"none",borderRadius:"10px",background:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"16px"},className:"jsx-7b17953b10db55d1",children:b.ut.map(e=>(0,n.jsx)("option",{value:e.value,className:"jsx-7b17953b10db55d1",children:e.label},e.value))})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("label",{style:{color:"white",display:"block",marginBottom:"10px",fontWeight:"bold"},className:"jsx-7b17953b10db55d1",children:"Режим выбора профессий"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"20px",marginBottom:"15px"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("label",{style:{color:"white",display:"flex",alignItems:"center",cursor:"pointer"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("input",{type:"radio",name:"professionMode",value:"choice",checked:"choice"===x.professionSelectionMode,onChange:e=>g({...x,professionSelectionMode:e.target.value}),style:{marginRight:"8px"},className:"jsx-7b17953b10db55d1"}),"Выбор игрока"]}),(0,n.jsxs)("label",{style:{color:"white",display:"flex",alignItems:"center",cursor:"pointer"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("input",{type:"radio",name:"professionMode",value:"random",checked:"random"===x.professionSelectionMode,onChange:e=>g({...x,professionSelectionMode:e.target.value}),style:{marginRight:"8px"},className:"jsx-7b17953b10db55d1"}),"Случайно"]}),(0,n.jsxs)("label",{style:{color:"white",display:"flex",alignItems:"center",cursor:"pointer"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("input",{type:"radio",name:"professionMode",value:"assigned",checked:"assigned"===x.professionSelectionMode,onChange:e=>g({...x,professionSelectionMode:e.target.value}),style:{marginRight:"8px"},className:"jsx-7b17953b10db55d1"}),"Назначить всем"]})]})]}),"random"!==x.professionSelectionMode&&(0,n.jsxs)("div",{style:{marginBottom:"20px"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("label",{style:{color:"white",fontWeight:"bold"},className:"jsx-7b17953b10db55d1",children:["Доступные профессии (",x.availableProfessions.length,"/",b.oy.length,")"]}),(0,n.jsxs)("div",{className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("button",{type:"button",onClick:()=>{g(e=>({...e,availableProfessions:b.oy.map(e=>e.id)}))},style:{background:"rgba(255, 255, 255, 0.1)",color:"white",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"10px",padding:"12px 20px",marginRight:"10px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px",backdropFilter:"blur(10px)"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.2)",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 15px rgba(255, 255, 255, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},className:"jsx-7b17953b10db55d1",children:"✅ Все"}),(0,n.jsx)("button",{type:"button",onClick:()=>{g(e=>({...e,availableProfessions:[]}))},style:{background:"rgba(255, 255, 255, 0.1)",color:"white",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"10px",padding:"12px 20px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px",backdropFilter:"blur(10px)"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.2)",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 15px rgba(255, 255, 255, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},className:"jsx-7b17953b10db55d1",children:"\uD83D\uDDD1️ Очистить"})]})]}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"12px",maxHeight:"300px",overflowY:"auto",padding:"15px",background:"rgba(0, 0, 0, 0.3)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"},className:"jsx-7b17953b10db55d1",children:b.oy.map(e=>(0,n.jsxs)("div",{onClick:()=>k(e.id),style:{position:"relative",background:x.availableProfessions.includes(e.id)?"linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05))":"linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02))",borderRadius:"12px",padding:"16px",cursor:"pointer",border:x.availableProfessions.includes(e.id)?"2px solid rgba(255, 255, 255, 0.4)":"2px solid rgba(255, 255, 255, 0.1)",transition:"all 0.3s ease",boxShadow:x.availableProfessions.includes(e.id)?"0 4px 15px rgba(255, 255, 255, 0.1)":"0 2px 8px rgba(0, 0, 0, 0.1)",transform:x.availableProfessions.includes(e.id)?"translateY(-2px)":"translateY(0)"},className:"jsx-7b17953b10db55d1 profession-card",children:[x.availableProfessions.includes(e.id)&&(0,n.jsx)("div",{style:{position:"absolute",top:"8px",right:"8px",width:"20px",height:"20px",background:"linear-gradient(45deg, #4CAF50, #45a049)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"white",fontWeight:"bold"},className:"jsx-7b17953b10db55d1",children:"✓"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("div",{style:{fontSize:"24px",marginRight:"8px"},className:"jsx-7b17953b10db55d1",children:e.icon}),(0,n.jsx)("div",{style:{color:"white",fontWeight:"bold",fontSize:"14px",flex:1},className:"jsx-7b17953b10db55d1",children:e.name})]}),(0,n.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"12px",lineHeight:"1.4"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("div",{style:{marginBottom:"2px"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("span",{style:{color:"#4CAF50",fontWeight:"bold"},className:"jsx-7b17953b10db55d1",children:[e.startingMoney,"₽"]})," • ",(0,n.jsxs)("span",{style:{color:"#FFC107",fontWeight:"bold"},className:"jsx-7b17953b10db55d1",children:[e.monthlyIncome,"₽/мес"]})]}),e.cashFlow&&(0,n.jsxs)("div",{style:{color:"#2196F3",fontSize:"11px"},className:"jsx-7b17953b10db55d1",children:["Поток: ",e.cashFlow,"₽"]})]}),(0,n.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), transparent)",borderRadius:"12px",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"},className:"jsx-7b17953b10db55d1 profession-hover-effect"})]},e.id))})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"10px"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("button",{type:"submit",disabled:u||!a,style:{flex:1,padding:"15px",border:"none",borderRadius:"10px",background:a?"linear-gradient(45deg, #667eea, #764ba2)":"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"16px",fontWeight:"bold",cursor:u||!a?"not-allowed":"pointer",opacity:u||!a?.7:1},className:"jsx-7b17953b10db55d1",children:u?"Создание...":"Создать комнату"}),(0,n.jsx)("button",{type:"button",onClick:()=>m(!1),style:{padding:"15px 30px",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"10px",background:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"16px",cursor:"pointer"},className:"jsx-7b17953b10db55d1",children:"Отмена"})]})]})]}),(0,n.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"15px",padding:"30px",border:"1px solid rgba(255, 255, 255, 0.2)"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("h2",{style:{color:"white",marginTop:0,marginBottom:"20px"},className:"jsx-7b17953b10db55d1",children:["Доступные комнаты (",s.length,")"]}),0===s.length?(0,n.jsx)("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.7)",padding:"40px"},className:"jsx-7b17953b10db55d1",children:a?"Нет доступных комнат. Создайте новую!":"Подключение к серверу..."}):(0,n.jsx)("div",{style:{display:"grid",gap:"15px"},className:"jsx-7b17953b10db55d1",children:s.map(e=>{var s;return(0,n.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"10px",padding:"20px",border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("div",{style:{flex:1},className:"jsx-7b17953b10db55d1",children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px"},className:"jsx-7b17953b10db55d1",children:[(0,n.jsx)("h3",{style:{color:"white",margin:0},className:"jsx-7b17953b10db55d1",children:e.name}),D.has(e.id)&&(0,n.jsx)("span",{style:{background:"linear-gradient(45deg, #4CAF50, #45a049)",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},className:"jsx-7b17953b10db55d1",children:"МОЯ КОМНАТА"})]}),(0,n.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px",marginBottom:"5px"},className:"jsx-7b17953b10db55d1",children:["Игроков: ",e.players,"/",e.maxPlayers," • Время хода: ",e.timing/60," мин • Длительность: ",e.gameDuration," мин • Статус: ",e.status]}),(0,n.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"12px"},className:"jsx-7b17953b10db55d1",children:["Профессии: ","choice"===e.professionSelectionMode?"Выбор":"random"===e.professionSelectionMode?"Случайно":"Назначены"," • Доступно: ",(null===(s=e.availableProfessions)||void 0===s?void 0:s.length)||0]})]}),(0,n.jsx)("button",{onClick:()=>S(e.id),disabled:!D.has(e.id)&&(e.players>=e.maxPlayers||"waiting"!==e.status)||!a,style:{padding:"10px 20px",border:"none",borderRadius:"8px",background:(D.has(e.id)||!(e.players>=e.maxPlayers)&&"waiting"===e.status)&&a?D.has(e.id)&&"playing"===e.status?"linear-gradient(45deg, #4CAF50, #45a049)":"linear-gradient(45deg, #667eea, #764ba2)":"rgba(255, 255, 255, 0.1)",color:"white",cursor:(D.has(e.id)||!(e.players>=e.maxPlayers)&&"waiting"===e.status)&&a?"pointer":"not-allowed",opacity:(D.has(e.id)||!(e.players>=e.maxPlayers)&&"waiting"===e.status)&&a?1:.5},className:"jsx-7b17953b10db55d1",children:a?D.has(e.id)&&"playing"===e.status?"Войти":D.has(e.id)&&"playing"!==e.status?"Войти":e.players>=e.maxPlayers?"Полная":"waiting"!==e.status?"Недоступна":"Присоединиться":"Нет подключения"})]},e.id)})})]})]}),(0,n.jsx)(p.Z,{})]})]})}}},function(e){e.O(0,[645,664,888,774,179],function(){return e(e.s=7333)}),_N_E=e.O()}]);